<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>plmaster(1)</title>
</head>
<body>
<h3><a name="Name"></a>Name</h3>
<blockquote><b>plmaster</b> - the Pipeline Master daemon<br>
</blockquote>
<h3><a name="Synopsis"></a>Synopsis</h3>
<blockquote><b>plmaster</b> [<a href="#Global_Options"><i>options</i></a>]<i><br>
  </i><br>
  <b>plmaster</b> <a style="font-weight: bold;" href="#--help">--help</a><br>
  <b>plmaster</b> <a style="font-weight: bold;" href="#--html-help">--html-help</a><br>
  <b>plmaster</b> <a style="font-weight: bold;" href="#--version_">--version</a><br>
  <b>plmaster</b> <a style="font-weight: bold;" href="#--release-date">--release-date</a><br>
  <b>plmaster</b> <a style="font-weight: bold;" href="#--copyright">--copyright</a><br>
  <span style="font-weight: bold;">plmaster <a href="#--license">--license</a></span><br>
</blockquote>
<h3><a name="Description"></a>Description<br>
</h3>
<blockquote>The master daemon process which manages the node database
and coordinates the activity of all other Pipeline daemons and client
programs.&nbsp; <br>
</blockquote>
<h3> </h3>
<h3><a name="Information_Options"></a>Information Options</h3>
<blockquote>The following options provide information about <b>plmaster</b>(1)
and then immediately exit:</blockquote>
<blockquote><b><a name="--help"></a>--help</b><br>
  <blockquote>Prints a brief usage message and exits.<br>
  </blockquote>
  <b><a name="--html-help"></a>--html-help</b><br>
  <blockquote>Opens this page using the <a
 href="http://www.mozilla.org"><b>mozilla</b></a>(1) web browser.&nbsp;
  </blockquote>
  <b><a name="--version"></a>--version</b><br>
  <blockquote>Prints the version number of this software and exits.<br>
  </blockquote>
  <b><a name="--release-date"></a>--release-date</b><br>
  <blockquote> Prints date that this software was released and exits.<br>
  </blockquote>
  <b><a name="--copyright"></a>--copyright<br>
  </b><br>
  <div style="margin-left: 40px;"> Prints the <a href="#Copyright"><span
 style="font-weight: bold;">copyright notice</span></a> for this
software and exits.<br>
  <br>
  </div>
  <span style="font-weight: bold;"><a name="--license"></a>--license<br>
  <br>
  </span>
  <div style="margin-left: 40px;">Prints the <a
 href="#License_Agreement"><span style="font-weight: bold;">license
agreement</span></a> for this software and exits.<br>
  </div>
  <blockquote> </blockquote>
</blockquote>
<h3><a name="Global_Options"></a>Global Options<br>
</h3>
<div style="margin-left: 40px;"><span style="font-weight: bold;"><a
 name="--rebuild"></a>--rebuild<br>
</span>
<div style="margin-left: 40px;"><br>
When <span style="font-weight: bold;">plmaster</span>(1) is properly
shutdown, it saves some cached information to disk which is read during
the next startup to reduce startup time.&nbsp; If <span
 style="font-weight: bold;">plmaster</span>(1) fails to write these
cache files due to a system crash or some other catastrophic failure,
they can be rebuilt using this option.&nbsp; Note that <span
 style="font-weight: bold;">plmaster</span>(1) will not start unless
these cache files exist or this option is given.&nbsp; This means that
the first time <span style="font-weight: bold;">plmaster</span>(1) is
started, this option must be given.<br>
<br>
</div>
<span style="font-weight: bold;"><br>
<a name="--file-mgr"></a>--file-mgr</span><br>
<div style="margin-left: 40px;"><br>
Run the Pipeline file manager as an internal thread of <span
 style="font-weight: bold;">plmaster</span>(1) instead of running the
file manager as a standalone <a href="plfilemgr.html"><span
 style="font-weight: bold;">plfilemgr</span></a>(1) daemon.&nbsp; This
option can only be used if the host configured to run the <span
 style="font-weight: bold;">plmaster</span>(1) and <a
 href="plfilemgr.html"><span style="font-weight: bold;">plfilemgr</span></a>(1)
daemons are identical.&nbsp; See the <a
 href="file://usr/share/doc/plconfig-@PLCONFIG_VERSION@/plconfig.html#--master-host"><span
 style="font-weight: bold;">--master-host</span></a> and <a
 href="file://usr/share/doc/plconfig-@PLCONFIG_VERSION@/plconfig.html#--file-host"><span
 style="font-weight: bold;">--file-host</span></a> options to <a
 href="file://usr/share/doc/plconfig-@PLCONFIG_VERSION@/plconfig.html"><span
 style="font-weight: bold;">plconfig</span></a>(1) for details.<br>
<br>
When the file manager and master manager are running on the same host,
it is preferable that this option is used to reduce the network
overhead and eliminate the need to run a second Java Virtual Machine
process.&nbsp; However, if the best performance can usually be obtained
by running the file manager as the <a href="plfilemgr.html"><span
 style="font-weight: bold;">plfilemgr</span></a>(1) daemon on the
network file server so that the heavy file system activity of the file
manger can be performed locally and not over NFS.&nbsp;&nbsp; When this
is not possible or desirable to run <a href="plfilemgr.html"><span
 style="font-weight: bold;">plfilemgr</span></a>(1) on the network file
server, the next best option is to run the file manager internally
using this option.<br>
</div>
<span style="font-weight: bold;"></span><span style="font-weight: bold;"><br>
<a name="--log-file"></a>--log-file</span>=<span
 style="font-style: italic;">filename<br>
<br>
</span>
<div style="margin-left: 40px;"><span style="font-style: italic;"><span
 style="font-style: italic;"></span></span>Write all output to the
given log file (filename) instead of printing to stdout.<br>
<br>
<span style="font-style: italic;"></span></div>
<span style="font-weight: bold;"><a name="--default-log-file"></a>--standard-log-file<br>
<br>
</span>
<div style="margin-left: 40px;">Write all output to the standard log
file for <span style="font-weight: bold;">plmaster</span>(1) instead
of printing to stdout.<br>
<br>
The standard log file for this site is:<br>
<div style="margin-left: 40px;"><br>
@ROOT_INST_DIR@/logs/plmaster.log.#<br>
</div>
</div>
<span style="font-weight: bold;"><br>
<a name="--log-depth"></a>--log-backups</span>=<span
 style="font-style: italic;">num<br>
</span>
<div style="margin-left: 40px;"><br>
When logging to a file using <a href="#--log-file"><span
 style="font-weight: bold;">--log-file</span></a>, this option sets the
number of rotating backups (<span style="font-style: italic;">num</span>)
to maintain of the logfile.&nbsp;&nbsp; The names of the backup files
are the same as the log file with the backup number appended to the end
of the name.&nbsp;&nbsp; The logfile will be automatically close the
current logfile, rotate the backups and reopen the logfile whenever the
log grows to larger than 10MB.<br>
<br>
The default number of backups is (10).<br>
</div>
<span style="font-style: italic;"><br>
</span><span style="font-weight: bold;"><a name="--log"></a>--log</span>=<span
 style="font-style: italic;">logger:level</span>[<span
 style="font-style: italic;">,logger:level</span>[...]]</div>
<div style="margin-left: 40px;"><br>
<div style="margin-left: 40px;">In addition to the normal output, <b>plmaster</b>(1)
can
generate
detailed output tracing the various stages of internal execution.&nbsp;
The arguments control the several different types
of logging information (<span style="font-style: italic;">logger</span>)
and different amounts of information (<span style="font-style: italic;">level</span>)
of each type to generate.&nbsp; Several loggers can be modified in one
option.<br>
<br>
The (<span style="font-style: italic;">logger</span>) portion of the
option's argument can be:<br>
<span style="font-weight: bold;"><br>
</span>
<div style="margin-left: 40px;"><span style="font-weight: bold;">all</span><br
 style="font-weight: bold;">
</div>
<div style="margin-left: 80px;">A shortcut for specifying all loggers
at once.<br>
</div>
<div style="margin-left: 40px;"><br>
<span style="font-weight: bold;">arg</span><br>
<span style="font-weight: bold;"></span></div>
<div style="margin-left: 40px;">
<div style="margin-left: 40px;">Logs errors related to parsing the
command-line options.<br>
</div>
<span style="font-weight: bold;"></span><br>
<span style="font-weight: bold;">glu<br>
</span>
<div style="margin-left: 40px;">Logs the I/O activity related to <a
 style="font-weight: bold;"
 href="../javadoc/us/temerity/pipeline/glue/package-summary.html">Glue</a>
format files.<br>
</div>
<span style="font-weight: bold;"><br>
ops</span><br>
<span style="font-weight: bold;"></span></div>
<div style="margin-left: 80px;">Logs node related operations performed
by the <span style="font-weight: bold;">plmaster</span>(1). <br>
<br>
</div>
<div style="margin-left: 40px;"><span style="font-weight: bold;">mem<br>
</span>
<div style="margin-left: 40px;">Logs the activity of the node cache
garbage collector.<br>
<br>
</div>
<span style="font-weight: bold;">net</span><br>
<span style="font-weight: bold;"></span></div>
<div style="margin-left: 80px;">Logs network connections and activity. <br>
<br>
</div>
<div style="margin-left: 40px;"><span style="font-weight: bold;">plg<br>
</span>
<div style="margin-left: 40px;">Logs the loading and initialization of
Pipeline plugins.</div>
<span style="font-weight: bold;"><br>
sub<br>
</span>
<div style="margin-left: 40px;">Logs the launching and monitoring
of OS level subprocesses.<br>
<br>
</div>
<span style="font-weight: bold;"></span></div>
<span style="font-weight: bold;"></span>The (<span
 style="font-style: italic;">level</span>) portion of
the option's argument can be:<br>
<br>
<div style="margin-left: 40px;"><span style="font-weight: bold;">severe</span><br>
<span style="font-weight: bold;"></span></div>
<div style="margin-left: 80px;">This level is used for error messages
and other catastrophic events.<br>
</div>
<div style="margin-left: 40px;"><br style="font-weight: bold;">
<span style="font-weight: bold;">warning</span><br>
</div>
<div style="margin-left: 80px;">This level is used for non-fatal error
messages and advisory information.<br>
</div>
<div style="margin-left: 40px;"><br style="font-weight: bold;">
<span style="font-weight: bold;">info</span><br>
</div>
<div style="margin-left: 80px;">This is the default output level for
all loggers and is used for normal output from <b>plmaster</b>(1). <br>
</div>
<div style="margin-left: 40px;"><br style="font-weight: bold;">
<span style="font-weight: bold;">fine</span><br>
<span style="font-weight: bold;"></span><span style="font-weight: bold;">finer</span><br>
<span style="font-weight: bold;"></span><span style="font-weight: bold;">finest</span><br>
</div>
<div style="margin-left: 80px;">These three levels are used for
increasingly more detailed command tracing messages. <br>
</div>
</div>
</div>
<h3><a name="Performance_Tuning_Options"></a>Performance Tuning Options</h3>
<div style="margin-left: 40px;"><span style="font-weight: bold;"><a
 name="--restore-cleanup-interval"></a>-</span><span class="postbody"><span
 style="font-weight: bold;">-restore-cleanup-interval</span>=<span
 style="font-style: italic;">msec</span><br>
</span>
<div style="margin-left: 40px;"><br>
Overrides the maximum age (msec) of a resolved (Restored or Denied)
restore request before it is deleted.&nbsp; Pipeline automatically
cleans up these processed requests after a reasonable interval.&nbsp;
Unresolved requests are never automatically removed.<br>
<br>
The default value is (172800000) msec.&nbsp; Which is (48) hours.<br>
<br>
</div>
<span class="postbody"><span style="font-weight: bold;"><a
 name="--node-gc-interval"></a>--node-gc-interval</span>=<span
 style="font-style: italic;">msec<br>
</span></span>
<div style="margin-left: 40px;"><br>
Overrides the node garbage collection interval (msec).&nbsp;&nbsp;
Pipeline maintains an in memory cache of frequently accessed node
database information to accelerate node status updates.&nbsp; When the
cache grows to a significant portion of the JVM's heap, less frequently
used nodes are removed from the cache so that Java can free up the
memory.&nbsp; This option controls how frequently the node cache is
processed to reduce memory usage.&nbsp; <br>
<br>
The default value is (10800000) msec.&nbsp; Which is (90) minutes.<br>
<br>
</div>
<span style="font-weight: bold;"><a name="--node-cache-limit"></a>--node-cache-limit</span>=<span
 style="font-style: italic;">size </span><br>
<div style="margin-left: 40px;"><br>
Overrides the limit (<span style="font-style: italic;">size</span>) on
the number of node versions cached in memory.&nbsp; By default, the
limit is automatically calculated based on the maximum heap size of the
Java
VM set by the <span style="font-weight: bold;">--master-heap-size</span>
option to <a
 href="file://usr/share/doc/plconfig-@PLCONFIG_VERSION@/plconfig.html"><span
 style="font-weight: bold;">plconfig</span></a>(1).<br>
</div>
</div>
<h3><a name="See_Also"></a>See Also</h3>
<div style="margin-left: 40px;"><span style="font-weight: bold;">Documentation</span>
<br>
</div>
<div style="margin-left: 80px;"><a href="../javadoc/index.html"><span
 style="font-weight: bold;">Pipeline
Java API</span></a><br>
<br>
</div>
<div style="margin-left: 40px;">
<span style="font-weight: bold;">Pipeline Programs</span><br>
<div style="margin-left: 40px;"><a href="plui.html"><span
 style="font-weight: bold;">plui</span></a>(1), <a href="plscript.html"><span
 style="font-weight: bold;">plscript</span></a>(1), <a
 href="plplugin.html"><span style="font-weight: bold;">plplugin</span></a>(1)<br>
<a href="plpluginmgr.html"><span style="font-weight: bold;">plpluginmgr</span></a>(1),
<a href="plfilemgr.html"><span style="font-weight: bold;"></span></a><a
 href="plfilemgr.html"><span style="font-weight: bold;">plfilemgr</span></a>(1),
<a href="pljobmgr.html"><span style="font-weight: bold;"></span></a><a
 href="plmaster.html"><span style="font-weight: bold;">plmaster</span></a>(1),
<a href="plfilemgr.html"><span style="font-weight: bold;"></span></a><a
 href="plqueuemgr.html"><span style="font-weight: bold;">plqueuemgr</span></a>(1),
<a href="pljobmgr.html"><span style="font-weight: bold;">pljobmgr</span></a>(1)<br>
<span style="font-weight: bold;"></span><a
 href="file://usr/share/doc/plconfig-@PLCONFIG_VERSION@/plconfig.html"><span
 style="font-weight: bold;">plconfig</span></a>(1)<br>
</div>
<br>
</div>
<div style="margin-left: 40px;"><span style="font-weight: bold;">Other
Software</span><br>
<div style="margin-left: 40px;"><a href="http://www.mozilla.org"><b>mozilla</b></a>(1)<span
 style="font-weight: bold;"></span><br>
</div>
</div>
<h3><a name="Author"></a>Author</h3>
<div style="margin-left: 40px;">Created by <span
 style="font-weight: bold;">Jim Callahan</span> of <a
 href="http://temerity.us/"><span style="font-weight: bold;">Temerity
Software, Inc</span></a>.</div>
<span style="font-weight: bold;">
</span>
<h3><a name="Copyright"></a>Copyright</h3>
<div style="margin-left: 40px;">
@COPYRIGHT@
<br>
</div>
<h3><a name="License_Agreement"></a>License Agreement</h3>
<div style="margin-left: 40px;">
@LICENSE@
</div>
</body>
</html>
