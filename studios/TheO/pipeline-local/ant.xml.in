<project name="TheO" default="MakePlugins" basedir=".">

  <property name="PipelineLatest" 
            value="@ROOT_INST_PARENT_DIR@/pipeline-latest"/>

  <property name="ZohanCollection" 
            value="com/theorphanage/pipeline/plugin/ZohanCollection"/>
            
  <property name="Plugins" 
            value="com/theorphanage/pipeline/plugin"/>

  
  <target name="Make-ZohanCollection-v1.0.0" 
          description="Builds the plugin JAR file.">

    <jar destfile="bin/${ZohanCollection}/v1_0_0/ZohanCollection.jar" 
         includes="${ZohanCollection}/v1_0_0/*.class", "${ZohanCollection}/v1_0_0/stages/*.class"
         basedir="bin">
    </jar>
  </target>
  
  <target name="Make-AfterFXAddTypedSourceTool-v1.0.0" 
          description="Builds the plugin JAR file.">

    <jar destfile="bin/${Plugins}/AfterFXAddTypedSourceTool/v1_0_0/AfterFXAddTypedSourceTool.jar" 
         includes="${Plugins}/AfterFXAddTypedSourceTool/v1_0_0/*.class"
         basedir="bin">
    </jar>
  </target>
  
  <target name="Make-AfterFXTemplateAction-v1.0.0" 
          description="Builds the plugin JAR file.">

    <jar destfile="bin/${Plugins}/AfterFXTemplateAction/v1_0_0/AfterFXTemplateAction.jar" 
         includes="${Plugins}/AfterFXTemplateAction/v1_0_0/*.class"
         basedir="bin">
    </jar>
  </target>
  
  <target name="Make-AfterFXTemplateAction-v1.0.0" 
          description="Builds the plugin JAR file.">

    <jar destfile="bin/${Plugins}/AfterFXTemplateAction/v1_0_0/AfterFXTemplateAction.jar" 
         includes="${Plugins}/AfterFXTemplateAction/v1_0_0/*.class"
         basedir="bin">
    </jar>
  </target>


  <target name="Install-ZohanCollection-v1.0.0" 
          description="Installs the plugin JAR."
          depends="Make-ZohanCollection-v1.0.0">

    <exec executable="${PipelineLatest}/Unix-x86-Opt/bin/plplugin" 
          dir="bin" failonerror="true">
      <arg value="--install"/>
      <arg value="${ZohanCollection}/v1_0_0/ZohanCollection.jar"/>
    </exec>
  </target>


  <target name="MakePlugins" 
          description="Make all Pipeline plugins." 
          depends="Make-ZohanCollection-v1.0.0"> 
  </target>


  <target name="InstallPlugins" 
          description="Installs all Pipeline plugins." 
          depends="MakePlugins"> 
  </target>

</project> 
